<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      lang="en" xmlns:th="www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default-layout}">
<head>
    <title>mgm go</title>
    <link rel="stylesheet" type="text/css" th:href="@{/static/css/home/index.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/static/css/activity/detail.css}"/>
</head>
<body>
<div layout:fragment="main-content">
    <h3>Edit activity</h3>
    <div th:if="${error != null}">
        <div class="alert-danger alert" th:text="${error}"></div>
    </div>
    <div th:if="${existedActivity != null}">
        <a class="activity-item" target="_blank" th:href="@{/activity/{id}(id=${existedActivity.id})}"
           id="activity-link">
            <div class="activity-img--wrapper col-lg-2 col-4 mr-1 pl-0">
                <img id="image-on-home-page"
                     th:src="${existedActivity.imageId!=null}?@{/api/image/}+${existedActivity.imageId}:@{/static/images/no-img.png}"
                     alt=""/>
            </div>
            <div>
                <p class="activity-name activity-summary mb-0 font-weight-bold " th:text="${existedActivity.name}"></p>
                <div th:if="${existedActivity.address != null && existedActivity.address != ''}"
                     class="d-flex text-dark"><img src="/static/icons/location.png" class="address-icon"
                                                   alt="mgm-go"><span
                        class="ml-2" th:text="${existedActivity.address}"></span></div>
            </div>
        </a>
    </div>
    <div class="card text-left p-3">
        <form method="post" th:action="@{/activity/update}" name="editForm" th:object="${activityDetailDTO}"
              id="editForm">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
            <input type="hidden" name="id" id="id" th:value="${activityDetailDTO.getId()}">
            <div class="form-group">
                <label for="title">Name</label>
                <input type="text" class="form-control" id="title"
                       th:value="${activityDetailDTO.getName()}" th:field="*{name}">
                <div id="alertName" class="text-danger text-alert-mes"></div>
                <div class="text-danger text-alert-mes" th:if="${#fields.hasErrors('name')}"
                     th:errors="*{name}"></div>
            </div>
            <div class="form-group">
                <label for="description">Description</label>
                <textarea class="form-control" id="description" rows="3" th:text="${activityDetailDTO.description}"
                          th:field="*{description}"></textarea>
                <div id="alertDes" class="text-danger text-alert-mes"></div>
                <div class="text-danger text-alert-mes" th:if="${#fields.hasErrors('description')}"
                     th:errors="*{description}"></div>
            </div>
            <div class="form-group">
                <label for="address">Address</label>
                <input type="text" class="form-control" id="address"
                       th:value="${activityDetailDTO.address}" th:field="*{address}">
            </div>
            <button id="submitBtn" type="submit" class="btn btn-success">Save</button>
            <a th:href="@{/activity/{activityId}(activityId=${activityId})}" class="btn btn-negative">Cancel</a>
        </form>
    </div>
</div>
<th:block layout:fragment="custom-script">
    <script src="/static/js/activity.js"></script>
</th:block>
</body>